<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de Currículo Minecraft</title>
    <style>
        body { font-family: sans-serif; background-color: #2c2c2c; color: white; display: flex; flex-direction: column; align-items: center; padding: 20px; }
        .editor-container { background: #444; padding: 20px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.5); display: flex; gap: 20px; flex-wrap: wrap; justify-content: center; }
        .controls { display: flex; flex-direction: column; gap: 10px; width: 300px; }
        input, button { padding: 10px; border-radius: 5px; border: none; }
        canvas { max-width: 100%; height: auto; border: 2px solid #000; background-color: #eee; }
        button { background-color: #e67e22; color: white; font-weight: bold; cursor: pointer; transition: 0.3s; }
        button:hover { background-color: #d35400; }
        label { font-size: 0.9em; margin-bottom: -5px; color: #bbb; }
    </style>
</head>
<body>

    <h1>Editor de Currículo Minecraft</h1>

    <div class="editor-container">
        <div class="controls">
            <label>Sua Foto (Skin ou Avatar):</label>
            <input type="file" id="inputFoto" accept="image/*">
            
            <label>Nome:</label>
            <input type="text" id="nome" placeholder="Digite seu nome">
            
            <label>Experiência PvP:</label>
            <input type="text" id="pvp" placeholder="Ex: 5 anos / Pro">
            
            <label>Experiência Survival/Mine:</label>
            <input type="text" id="mine" placeholder="Ex: Hardcore / Redstone">
            
            <label>Experiência Construção:</label>
            <input type="text" id="const" placeholder="Ex: Medieval / Moderno">

            <label>Gênero:</label>
            <input type="text" id="genero" placeholder="Ex: Masculino / Feminino">

            <button id="btnDownload">Baixar Currículo Pronto</button>
        </div>

        <canvas id="canvasCurriculo" width="1000" height="660"></canvas>
    </div>

    <script>
        const canvas = document.getElementById('canvasCurriculo');
        const ctx = canvas.getContext('2d');
        const imgBase = new Image();
        imgBase.src = 'base.png'; // Nome do arquivo de imagem na pasta

        let fotoUsuario = null;

        // Ao carregar a imagem base
        imgBase.onload = desenharTudo;

        // Lógica para carregar a foto do usuário
        document.getElementById('inputFoto').onchange = function(e) {
            const reader = new FileReader();
            reader.onload = function(event) {
                fotoUsuario = new Image();
                fotoUsuario.onload = desenharTudo;
                fotoUsuario.src = event.target.result;
            }
            reader.readAsDataURL(e.target.files[0]);
        };

        // Escuta digitação em todos os campos
        document.querySelectorAll('input').forEach(input => {
            input.oninput = desenharTudo;
        });

        function desenharTudo() {
            // 1. Desenha o fundo
            ctx.drawImage(imgBase, 0, 0, canvas.width, canvas.height);

            // 2. Desenha a foto do usuário (se houver)
            if (fotoUsuario) {
                // Coordenadas aproximadas do quadrado cinza na sua imagem
                ctx.drawImage(fotoUsuario, 46, 305, 270, 275); 
            }

            // 3. Configura o texto
            ctx.fillStyle = "#333"; // Cor da letra (cinza escuro/preto)
            ctx.font = "bold 28px Courier New"; // Fonte mono para parecer pixel

            // Pegar valores dos inputs
            const nome = document.getElementById('nome').value.toUpperCase();
            const pvp = document.getElementById('pvp').value;
            const mine = document.getElementById('mine').value;
            const constr = document.getElementById('const').value;
            const genero = document.getElementById('genero').value;

            // 4. Escrever nos locais corretos (Ajuste os números se precisar mover)
            ctx.fillText(nome, 350, 385);
            ctx.fillText(pvp, 490, 442);
            ctx.fillText(mine, 500, 475);
            ctx.fillText(constr, 595, 508);
            ctx.fillText(genero, 475, 542);
        }

        // Função de Download
        document.getElementById('btnDownload').onclick = function() {
            const link = document.createElement('a');
            link.download = 'meu_curriculo_mine.png';
            link.href = canvas.toDataURL('image/png');
            link.click();
        };
    </script>
</body>
</html>
